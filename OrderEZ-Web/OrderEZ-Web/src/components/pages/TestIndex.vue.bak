<template>
    <el-container class="container">
        <!-- å¤´éƒ¨åŒºåŸŸ -->
        <el-header class="header">æ¬¢è¿ä½¿ç”¨æœ¬ç³»ç»Ÿ</el-header>

        <el-container class="body-container">
            <!-- ä¾§è¾¹æ  -->
            <el-aside class="aside">
                <el-menu :default-active="currentPage"
                         class="el-menu-vertical-demo"
                         @select="handleMenuItemClick">
                    <el-menu-item index="UserManagement">
                        <el-icon>
                            <icon-menu></icon-menu>
                        </el-icon>
                        <span>ç”¨æˆ·ç®¡ç†</span>
                    </el-menu-item>


                    <el-menu-item index="GoodManagement">
                        <el-icon>
                            <icon-menu/>
                        </el-icon>
                        <span>å•†å“ç®¡ç†</span>
                    </el-menu-item>
                </el-menu>
                <div class="spacer" style="height: 50vh"></div>
                <el-button type="danger" @click="logout">é€€å‡ºç™»å½•</el-button>
            </el-aside>

            <el-container class="content">
                <!-- ä¸»å†…å®¹åŒº -->
                <el-main class="main">
                    <router-view></router-view>
                </el-main>

                <!-- åº•éƒ¨ -->
                <el-footer class="footer">æ¬¢è¿ä½¿ç”¨æœ¬ç³»ç»Ÿ</el-footer>
            </el-container>

        </el-container>
    </el-container>
</template>

<script setup>
import {ref} from "vue";
import {useRouter} from "vue-router";
import {logout} from "@/utils/request.js.bak";

const router = useRouter();
const currentPage = ref(localStorage.getItem('currentPage') || 'UserManagement');

const handleMenuItemClick = (index) => {
    currentPage.value = index;
    localStorage.setItem('currentPage', index);

    // æ ¹æ®ä¸åŒçš„èœå•é¡¹è¿›è¡Œè·¯ç”±å¯¼èˆª
    switch (index) {
        case 'UserManagement':
            router.push({name: 'UserManagement'});
            break;
        case 'GoodManagement':
            router.push({name: 'GoodManagement'});
            break;
        default:
            break;
    }
};
</script>


<style scoped>
/* ğŸ”¹ è®© el-container å……æ»¡æ•´ä¸ªè§†å£ */
.container {
    height: 97vh;
    display: flex;
    flex-direction: column;
}

/* å¤´éƒ¨ - çº¢è‰² */
.header {
    background-color: #00ff00;
    color: white;
    text-align: center;
    line-height: 60px;
    font-size: 18px;
    flex-shrink: 0; /* ä¸è¦è®© header è¢«æŒ¤å‹ */
}

/* åº•éƒ¨ - è“è‰² */
.footer {
    background-color: #00ff00;
    color: white;
    text-align: center;
    line-height: 50px;
    font-size: 18px;
    flex-shrink: 0; /* ä¸è¦è®© footer è¢«æŒ¤å‹ */
}

/* ä¾§è¾¹æ  - é»„è‰² */
.aside {
    background-color: #ff0000;
    width: 200px; /* å›ºå®šä¾§è¾¹æ å®½åº¦ */
    color: black;
    text-align: center;
    flex-shrink: 0;
}

/* ğŸ”¹ è®©ä¸»å†…å®¹åŒºå¡«å……æ‰€æœ‰å‰©ä½™ç©ºé—´ */
.content {
    display: flex;
    flex-direction: column;
    flex: 1;
    min-height: 0; /* é¿å… flexbox è®¡ç®—é”™è¯¯ */
}

/* ä¸»å†…å®¹ - ç»¿è‰² */
.main {
    background-color: #1890FF;
    flex: 1;
    color: white;
    text-align: center;
    line-height: 200px;
    font-size: 18px;
    overflow: auto; /* å…è®¸å†…å®¹æ»šåŠ¨ */
}




</style>



